# 格式转换与信息保留

`format_transform` 方法（可在 `FileBatchModelDisk` 和单个文件对象上使用）允许在不同的化学文件格式之间进行转换。

## 核心行为

- **帧选择**：默认情况下，仅转换最后一帧 (`frameID=-1`)。您可以指定 `frameID="all"` 来转换文件中的所有帧。
- **合并输出**：如果 `embed_in_one_file=True`（默认），多个帧将合并到一个输出文件中（如果格式支持，如 SDF 或多帧 XYZ）。
- **结构层级**：
  - **COORDS (坐标级)**：`xyz`、`gjf` 和 `orcainp` 等格式主要保留原子坐标和元素信息。
  - **GRAPH (图级)**：`sdf`、`smi` 和 `cml` 等格式保留成键信息（分子图）。如果源文件仅包含坐标（例如 `.log` 文件），MolOP 将自动尝试使用其内置算法重建分子图。
- **元数据保留**：
  - QM 输入格式 (`gjf`, `orcainp`) 尝试保留原始指令和关键字。
  - 转换为简单的坐标格式（如 XYZ）时，计算属性（能量、频率）通常**不会**保留，尽管某些格式（如 SDF）可以将其作为属性存储。
